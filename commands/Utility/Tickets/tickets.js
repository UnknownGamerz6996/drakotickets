(function(_0x44acb0,_0x271f48){const _0xdb1cc5=_0x44acb0();function _0x1216fa(_0x1c0f3b,_0x113fb9){return _0x9ec6(_0x1c0f3b- -0x16a,_0x113fb9);}while(!![]){try{const _0x4a8581=parseInt(_0x1216fa(0x5d,0xd6))/0x1*(-parseInt(_0x1216fa(0x6,-0x20))/0x2)+-parseInt(_0x1216fa(0x58,0x9c))/0x3*(parseInt(_0x1216fa(-0x15,-0x14))/0x4)+-parseInt(_0x1216fa(0xe,0x8c))/0x5+-parseInt(_0x1216fa(0x1a,0xb3))/0x6*(parseInt(_0x1216fa(0x79,0x29))/0x7)+parseInt(_0x1216fa(-0x4a,-0x5f))/0x8+-parseInt(_0x1216fa(0x6a,0x76))/0x9+parseInt(_0x1216fa(-0x21,-0x27))/0xa;if(_0x4a8581===_0x271f48)break;else _0xdb1cc5['push'](_0xdb1cc5['shift']());}catch(_0xa91b73){_0xdb1cc5['push'](_0xdb1cc5['shift']());}}}(_0x2400,0x25caf));function _0x2400(){const _0x4106ab=['1533429rHvych','>\x20has\x20been\x20added\x20to\x20the\x20ticket\x20by\x20<@','NoReason','Stats','flatMap','Date','reply','No\x20ticket\x20types\x20are\x20enabled\x20for\x20this\x20panel.','WorkingHours','setCustomId','displayAvatarURL','#00FF00','embedFields','No\x20Answer\x20Provided','chartjs-node-canvas','79492vhZLmG','Button','Temporary\x20voice\x20channel\x20created:\x20','../../../events/interactionCreate','setImage','Priority','No\x20reason\x20provided','EmbedLinks','floor','Panel','Levels','closed','Unnamed\x20Ticket','replied','{time}','send','ðŸš«\x20User\x20Blacklisted','reduce','Ticket\x20Stats','An\x20error\x20occurred\x20while\x20sending\x20the\x20alert.\x20Please\x20try\x20again\x20later.','Contact\x20an\x20admin\x20if\x20you\x20believe\x20this\x20is\x20a\x20mistake.','Error\x20blacklisting\x20user:','GuildText','roles','Administrator','Alert\x20feature\x20is\x20disabled.','Add\x20a\x20user\x20to\x20the\x20ticket','keys','Reason\x20for\x20blacklisting','Various\x20ticket\x20commands\x20for\x20managing\x20tickets','N/A','TicketTypes','-voice','addedAt','Do\x20MMM','Thumbnail','numericRating','Primary','includes','Manage\x20the\x20blacklist','User\x20can\x20now\x20open\x20tickets\x20again.','rgb(255,\x200,\x200)','reason','save','utf8','An\x20error\x20occurred\x20while\x20removing\x20the\x20user\x20from\x20the\x20blacklist.\x20Please\x20try\x20again\x20later.','Error\x20during\x20channel\x20operations:','Error\x20during\x20channel\x20rename:','Alert\x20has\x20been\x20sent.','ticketcreate','Emoji','../../../lang.yml','User\x20is\x20already\x20added\x20to\x20this\x20ticket.','Author','ViewChannel','addOptions','get','setFooter','Error\x20updating\x20channel\x20permissions:','Error\x20adding\x20user\x20to\x20ticket:','Time','View\x20the\x20blacklist\x20reason\x20for\x20a\x20user','view','filter','The\x20user\x20to\x20check','type','\x20is\x20not\x20blacklisted.','deleted','tag','An\x20error\x20occurred\x20while\x20creating\x20the\x20voice\x20channel.\x20Please\x20try\x20again\x20later.','setName','toString','../../../config.yml','base64','join','line','inline','The\x20user\x20to\x20remove\x20from\x20the\x20ticket','add','alert','HH:mm','User','/5`','**<@','Error\x20fetching\x20ticket\x20stats:','addComponents','getString','format','TicketPanelSettings','size','blacklist','#FF0000','has','No\x20buttons\x20are\x20enabled\x20for\x20this\x20panel.','setEmoji',':F>','Error\x20fetching\x20blacklist\x20information:','voiceStateUpdate','Error\x20renaming\x20ticket:','New\x20ticket\x20type\x20not\x20found.','alertMessageId','match','create','load','addFields','subtract','userId','push','some','user','1981088EZCiip','isArray','An\x20error\x20occurred\x20while\x20renaming\x20the\x20ticket.\x20Please\x20try\x20again\x20later.','The\x20user\x20to\x20add\x20to\x20the\x20ticket','Show\x20general\x20ticket\x20stats','Invalid\x20subcommand.','ChannelName','catch','Embed','readFileSync','deferred','An\x20error\x20occurred\x20while\x20executing\x20the\x20command.\x20Please\x20try\x20again\x20later.','addUserOption','Create\x20a\x20temporary\x20voice\x20channel\x20for\x20the\x20ticket','panel','white','The\x20user\x20to\x20blacklist','ReadMessageHistory','âœ…\x20User\x20Removed\x20from\x20Blacklist','Footer','Contact\x20an\x20admin\x20if\x20you\x20need\x20more\x20information.','forEach','Successfully\x20removed\x20','\x20from\x20the\x20ticket.','toFixed','value','setStyle','values','User\x20is\x20not\x20part\x20of\x20this\x20ticket.','find','\x20to\x20the\x20ticket.','replace','setLabel','Text','findOne','https:','ticketclose-','Invalid\x20panel\x20selected!','channelId','ticketcreate-','ticketId','7314850IICYdr','answer','createdAt','This\x20command\x20can\x20only\x20be\x20used\x20in\x20ticket\x20channels.','This\x20command\x20has\x20been\x20disabled\x20in\x20the\x20config!','fetch','deferReply','client','#0099ff','An\x20error\x20occurred\x20while\x20fetching\x20the\x20blacklist\x20information.\x20Please\x20try\x20again\x20later.','Name','permissionsFor','35916UxBaAI','PrivateThread','setRequired','protocol','channel','error','addStringOption','Enabled','This\x20command\x20can\x20only\x20be\x20used\x20within\x20a\x20ticket\x20channel.','closedAt','TicketSettings','days','delete','messageCount','The\x20new\x20name\x20for\x20the\x20ticket\x20channel','Error\x20removing\x20user\x20from\x20ticket:','An\x20error\x20occurred\x20while\x20blacklisting\x20the\x20user.\x20Please\x20try\x20again\x20later.','remove','ticketType','setAuthor','parent','Color','Style','ðŸ“‹\x20Blacklist\x20Information','{ticket-id}','exports','The\x20new\x20ticket\x20type','11142ggHlAb','name','setPlaceholder','set','Fields','rename','Error\x20sending\x20alert:','getTime','779150xFNjnZ','AttachFiles','diff','<t:','No\x20Ratings','stats','Transfer\x20a\x20ticket\x20to\x20a\x20new\x20type','permissionOverwrites','Blacklisted\x20By','Error\x20sending\x20ticket\x20panel:','deleteOne','TicketType1','90uopptA','Permissions','map','tickets','cache','Roles','addedBy','Error\x20transferring\x20ticket:','Schedule','This\x20ticket\x20is\x20already\x20of\x20the\x20specified\x20type.','voice','countDocuments','NoPermsMessage','components','setThumbnail','setColor','Ticket\x20panel\x20sent!','setParent','alertTime',':t>','editReply','workinghours_end_','guild','setTitle','addChoices','{priority}','Rename\x20the\x20ticket\x20channel','seconds','An\x20error\x20occurred\x20while\x20transferring\x20the\x20ticket.\x20Please\x20try\x20again\x20later.','An\x20error\x20occurred\x20while\x20removing\x20the\x20user\x20from\x20the\x20ticket.\x20Please\x20try\x20again\x20later.','Remove\x20a\x20user\x20from\x20the\x20ticket','length','Close\x20the\x20current\x20ticket','username','permissions','addSubcommand','Channel\x20not\x20found.','Error\x20moving\x20channel:','Title','attachment://tickets_graph.png','Send\x20an\x20alert\x20about\x20pending\x20ticket\x20closure.','options','members','setDescription','getUser','>\x20has\x20been\x20removed\x20from\x20the\x20ticket\x20by\x20<@','Description','Timezone','followUp','Ticket\x20has\x20been\x20transferred\x20to\x20','js-yaml','Reason\x20for\x20closing\x20the\x20ticket','transfer','GuildVoice','Alert','#FFFFFF','member','This\x20command\x20can\x20only\x20be\x20used\x20within\x20a\x20text\x20channel\x20or\x20thread.','http:','moment-timezone','CategoryID','SupportRole','9dGYEhg','toLowerCase','status','SendMessages','No\x20Question\x20Provided','54TOaEIa','PublicThread','DefaultPriority','An\x20error\x20occurred\x20while\x20adding\x20the\x20user\x20to\x20the\x20ticket.\x20Please\x20try\x20again\x20later.','now','An\x20error\x20occurred\x20while\x20closing\x20the\x20ticket.\x20Please\x20try\x20again\x20later.','\x20by\x20<@','rating','everyone','toUpperCase','channels','Image','Icon'];_0x2400=function(){return _0x4106ab;};return _0x2400();}const {SlashCommandBuilder,EmbedBuilder,ActionRowBuilder,ButtonBuilder,StringSelectMenuBuilder,PermissionFlagsBits,ButtonStyle,ChannelType,AttachmentBuilder}=require('discord.js'),fs=require('fs'),yaml=require(_0x2d37d5(0x311,0x31d)),path=require('path'),moment=require(_0x2d37d5(0x31a,0x396)),Ticket=require('../../../models/tickets');function _0x2d37d5(_0x35f718,_0x568f9b){return _0x9ec6(_0x35f718-0x15b,_0x568f9b);}const Blacklist=require('../../../models/blacklist'),{ChartJSNodeCanvas}=require(_0x2d37d5(0x33d,0x2fd)),{handleTicketClose}=require(_0x2d37d5(0x341,0x388)),configPath=path[_0x2d37d5(0x388,0x33c)](__dirname,_0x2d37d5(0x386,0x353)),langPath=path[_0x2d37d5(0x388,0x3e9)](__dirname,_0x2d37d5(0x371,0x3eb)),config=yaml[_0x2d37d5(0x274,0x231)](fs[_0x2d37d5(0x284,0x2a8)](configPath,_0x2d37d5(0x36a,0x2dc))),lang=yaml[_0x2d37d5(0x274,0x2d3)](fs[_0x2d37d5(0x284,0x2e5)](langPath,_0x2d37d5(0x36a,0x348)));function parseDuration(_0x4f54f1){function _0x4e772e(_0x5a7ddc,_0x5e5902){return _0x2d37d5(_0x5e5902- -0x30b,_0x5a7ddc);}const _0x2c7925={'s':0x3e8,'m':0x3e8*0x3c,'h':0x3e8*0x3c*0x3c,'d':0x3e8*0x3c*0x3c*0x18,'w':0x3e8*0x3c*0x3c*0x18*0x7},_0x2c587e=_0x4f54f1[_0x4e772e(-0x2c,-0x99)](/(\d+\s*[smhdw])/g);if(!_0x2c587e)throw new Error('Invalid\x20duration\x20format:\x20'+_0x4f54f1);return _0x2c587e[_0x4e772e(0x41,0x44)]((_0x46480c,_0x1659cc)=>{const _0x539240=parseInt(_0x1659cc['match'](/\d+/)[0x0]),_0x5a2261=_0x1659cc['match'](/[smhdw]/)[0x0];return _0x46480c+_0x539240*_0x2c7925[_0x5a2261];},0x0);}function isValidHttpUrl(_0x2a2f31){function _0x3d24f6(_0x58d75a,_0x2785e6){return _0x2d37d5(_0x58d75a- -0x543,_0x2785e6);}try{const _0x717ea4=new URL(_0x2a2f31);return _0x717ea4[_0x3d24f6(-0x290,-0x2a2)]===_0x3d24f6(-0x22a,-0x1a0)||_0x717ea4[_0x3d24f6(-0x290,-0x243)]===_0x3d24f6(-0x2a5,-0x292);}catch(_0x13b4a3){return![];}}function hasSupportRole(_0x5f2035,_0x553292){function _0x3ee347(_0xf6859,_0x4f3515){return _0x2d37d5(_0xf6859- -0x15a,_0x4f3515);}return _0x5f2035[_0x3ee347(0x1fb,0x22d)]['cache'][_0x3ee347(0x11f,0x143)](_0x220203=>_0x553292[_0x3ee347(0x20a,0x1f1)](_0x220203['id']));}function formatDuration(_0x55fbb6){function _0x1a85b4(_0x49d7c9,_0x159b95){return _0x2d37d5(_0x159b95- -0x4b2,_0x49d7c9);}const _0x2b173f=moment['duration'](_0x55fbb6),_0x1888e7=_0x2b173f[_0x1a85b4(-0x1ff,-0x1f7)](),_0x17f625=_0x2b173f['hours'](),_0x21a815=_0x2b173f['minutes'](),_0x2cecba=_0x2b173f[_0x1a85b4(-0x131,-0x1b8)]();if(_0x1888e7>0x0)return _0x1888e7+'d\x20'+_0x17f625+'h\x20'+_0x21a815+'m';else{if(_0x17f625>0x0)return _0x17f625+'h\x20'+_0x21a815+'m';else return _0x21a815>0x0?_0x21a815+'m\x20'+_0x2cecba+'s':_0x2cecba+'s';}}function _0x9ec6(_0x4f2119,_0x120ca9){const _0x240086=_0x2400();return _0x9ec6=function(_0x9ec625,_0x8e7499){_0x9ec625=_0x9ec625-0x117;let _0x1207b1=_0x240086[_0x9ec625];return _0x1207b1;},_0x9ec6(_0x4f2119,_0x120ca9);}async function getUserPriority(_0x241fb6){const _0x1233aa=config[_0x4eba31(0xbf,0xcf)];if(!_0x1233aa[_0x4eba31(0x33,0xaa)])return _0x1233aa[_0x4eba31(0xa0,0xa5)];for(const _0x2e7863 of Object[_0x4eba31(0xd5,0x16d)](_0x1233aa[_0x4eba31(0xc4,0xd0)])){const _0x3cfd45=_0x1233aa['Levels'][_0x2e7863];for(const _0x3966b4 of _0x3cfd45[_0x4eba31(0x60,0x98)]){if(_0x241fb6['roles'][_0x4eba31(0x5f,0xdb)]['has'](_0x3966b4))return _0x2e7863;}}function _0x4eba31(_0x27c3d4,_0x103da4){return _0x2d37d5(_0x27c3d4- -0x284,_0x103da4);}return _0x1233aa[_0x4eba31(0xa0,0x113)];}const replacePlaceholders=(_0x214436,_0xdedf5c)=>{function _0x1c2254(_0x2e8df0,_0x805e17){return _0x2d37d5(_0x805e17-0x85,_0x2e8df0);}if(!_0x214436)return'';return Object[_0x1c2254(0x3f8,0x3de)](_0xdedf5c)[_0x1c2254(0x333,0x315)](_0x10c303=>{function _0x189322(_0x14f45a,_0x3ac6b0){return _0x1c2254(_0x3ac6b0,_0x14f45a- -0x3b1);}_0x214436=_0x214436[_0x189322(-0x92,-0xe1)]('{'+_0x10c303+'}',_0xdedf5c[_0x10c303]);}),_0x214436;};async function updateChannelPermissions(_0x1bca93,_0x189e8b,_0x2e9f8f){function _0x2c6e90(_0x5bbd0e,_0x49a2fc){return _0x2d37d5(_0x49a2fc- -0x4df,_0x5bbd0e);}try{const _0x5eecdb=[{'id':_0x1bca93[_0x2c6e90(-0x151,-0x1ea)][_0x2c6e90(-0x124,-0x18a)][_0x2c6e90(-0x1b4,-0x1b5)]['id'],'deny':[_0x2c6e90(-0x195,-0x1bf),_0x2c6e90(-0x150,-0x16b)]},{'id':_0x2e9f8f,'allow':[_0x2c6e90(-0x19c,-0x1bf),_0x2c6e90(-0x16f,-0x16b),_0x2c6e90(-0x1fb,-0x20b),_0x2c6e90(-0x1e0,-0x19a),'ReadMessageHistory']}];_0x189e8b['SupportRole'][_0x2c6e90(-0x1e4,-0x24f)](_0xbd844a=>{const _0x3313f1=_0x1bca93[_0x4e6e0f(0x12a,0x115)]['roles'][_0x4e6e0f(0x118,0x9d)][_0x4e6e0f(0x1ab,0x17a)](_0xbd844a);function _0x4e6e0f(_0x5519f5,_0x1fc5f1){return _0x2c6e90(_0x1fc5f1,_0x5519f5-0x314);}_0x3313f1&&_0x5eecdb[_0x4e6e0f(0xad,0x10f)]({'id':_0x3313f1['id'],'allow':['SendMessages','ViewChannel','AttachFiles',_0x4e6e0f(0x17a,0x118),_0x4e6e0f(0xc1,0x6b)]});}),await _0x1bca93[_0x2c6e90(-0x17b,-0x205)][_0x2c6e90(-0x288,-0x211)](_0x5eecdb);}catch(_0xff08b){console['error'](_0x2c6e90(-0x1a9,-0x167),_0xff08b);throw new Error('Failed\x20to\x20update\x20channel\x20permissions');}}async function moveChannel(_0xe96d00,_0x667e8e){function _0xd25251(_0x34949b,_0x303296){return _0x2d37d5(_0x303296-0x102,_0x34949b);}try{await _0xe96d00[_0xd25251(0x46e,0x3f2)](_0x667e8e,{'lockPermissions':![]});}catch(_0x1403a6){console[_0xd25251(0x40b,0x3b7)](_0xd25251(0x379,0x406),_0x1403a6);throw new Error('Failed\x20to\x20move\x20channel');}}async function renameChannel(_0x3b4ece,_0x5cdf15){function _0x416215(_0x56012d,_0x13522e){return _0x2d37d5(_0x13522e-0x6f,_0x56012d);}try{await _0x3b4ece[_0x416215(0x432,0x3f3)](_0x5cdf15);}catch(_0x34db7c){console['error']('Error\x20renaming\x20channel:',_0x34db7c);throw new Error('Failed\x20to\x20rename\x20channel');}}async function generateTicketsGraph(_0x23bd57){const _0x2d3957=Array['from']({'length':0x7})[_0xc01bc9(0x4ee,0x553)]((_0xf13659,_0x41d50e)=>moment()[_0xc01bc9(0x49c,0x4e8)](_0x41d50e,_0xc01bc9(0x51f,0x52d))[_0xc01bc9(0x62f,0x607)](_0xc01bc9(0x547,0x5d2)))['reverse'](),_0x29f321=_0x2d3957['map'](_0x56b30d=>_0x23bd57[_0xc01bc9(0x5e6,0x5ef)](_0x947b27=>moment(_0x947b27[_0xc01bc9(0x4ae,0x518)])[_0xc01bc9(0x686,0x607)](_0xc01bc9(0x541,0x5d2))===_0x56b30d)[_0xc01bc9(0x560,0x570)]),_0x54a8eb=new ChartJSNodeCanvas({'width':0x320,'height':0x190}),_0x238084={'type':_0xc01bc9(0x63d,0x5fb),'data':{'labels':_0x2d3957,'datasets':[{'label':_0xc01bc9(0x5b0,0x5c2),'data':_0x29f321,'fill':![],'borderColor':_0xc01bc9(0x565,0x5d9),'pointBackgroundColor':_0xc01bc9(0x4d1,0x4fc),'pointBorderColor':_0xc01bc9(0x4b4,0x4fc),'pointRadius':0x5,'pointHoverRadius':0x7,'tension':0.1}]},'options':{'scales':{'x':{'title':{'display':!![],'text':'Date'},'ticks':{'color':'#FFFFFF','font':{'weight':'bold','size':0x16}}},'y':{'title':{'display':![]},'ticks':{'color':_0xc01bc9(0x55b,0x588),'font':{'weight':'bold','size':0x16}}}}}};function _0xc01bc9(_0x39946e,_0x43a6d3){return _0x2d37d5(_0x43a6d3-0x272,_0x39946e);}const _0x13e747=await _0x54a8eb['renderToBuffer'](_0x238084);return _0x13e747[_0xc01bc9(0x5eb,0x5f7)](_0xc01bc9(0x638,0x5f9));}module[_0x2d37d5(0x2c9,0x24b)]={'data':new SlashCommandBuilder()[_0x2d37d5(0x384,0x322)](_0x2d37d5(0x2e2,0x33d))[_0x2d37d5(0x30a,0x389)](_0x2d37d5(0x35b,0x329))[_0x2d37d5(0x302,0x2ba)](_0x22f546=>_0x22f546['setName'](_0x2d37d5(0x38c,0x34b))['setDescription'](_0x2d37d5(0x358,0x3c0))[_0x2d37d5(0x287,0x2f1)](_0x4af501=>_0x4af501[_0x2d37d5(0x384,0x3d5)](_0x2d37d5(0x27a,0x246))['setDescription'](_0x2d37d5(0x27e,0x243))[_0x2d37d5(0x2b2,0x291)](!![])))[_0x2d37d5(0x302,0x354)](_0x48cdfe=>_0x48cdfe[_0x2d37d5(0x384,0x33b)](_0x2d37d5(0x38d,0x3c1))[_0x2d37d5(0x30a,0x373)](_0x2d37d5(0x307,0x38a)))['addSubcommandGroup'](_0x9dfbc0=>_0x9dfbc0['setName']('blacklist')[_0x2d37d5(0x30a,0x30a)](_0x2d37d5(0x365,0x3af))[_0x2d37d5(0x302,0x366)](_0x48639e=>_0x48639e[_0x2d37d5(0x384,0x2f7)](_0x2d37d5(0x38c,0x3d1))[_0x2d37d5(0x30a,0x36b)]('Blacklist\x20a\x20user\x20from\x20opening\x20tickets')[_0x2d37d5(0x287,0x2bf)](_0x579f11=>_0x579f11[_0x2d37d5(0x384,0x2ee)](_0x2d37d5(0x27a,0x2ff))[_0x2d37d5(0x30a,0x334)](_0x2d37d5(0x28b,0x2e3))[_0x2d37d5(0x2b2,0x266)](!![]))[_0x2d37d5(0x2b6,0x33e)](_0x56e9f4=>_0x56e9f4[_0x2d37d5(0x384,0x32d)](_0x2d37d5(0x368,0x334))[_0x2d37d5(0x30a,0x2a1)](_0x2d37d5(0x35a,0x3cf))[_0x2d37d5(0x2b2,0x317)](![])))[_0x2d37d5(0x302,0x2ca)](_0x142490=>_0x142490['setName'](_0x2d37d5(0x37c,0x376))[_0x2d37d5(0x30a,0x2cb)](_0x2d37d5(0x37b,0x3d5))['addUserOption'](_0x2d5fae=>_0x2d5fae['setName'](_0x2d37d5(0x27a,0x1fa))[_0x2d37d5(0x30a,0x274)](_0x2d37d5(0x37e,0x312))[_0x2d37d5(0x2b2,0x2f8)](!![])))['addSubcommand'](_0x31bbc5=>_0x31bbc5['setName'](_0x2d37d5(0x2c1,0x323))[_0x2d37d5(0x30a,0x358)]('Remove\x20a\x20user\x20from\x20the\x20blacklist')[_0x2d37d5(0x287,0x26e)](_0x368c44=>_0x368c44[_0x2d37d5(0x384,0x371)](_0x2d37d5(0x27a,0x1f4))[_0x2d37d5(0x30a,0x322)]('The\x20user\x20to\x20remove\x20from\x20the\x20blacklist')['setRequired'](!![]))))[_0x2d37d5(0x302,0x30c)](_0x47bdf2=>_0x47bdf2[_0x2d37d5(0x384,0x3a6)]('close')[_0x2d37d5(0x30a,0x29a)](_0x2d37d5(0x2ff,0x38b))[_0x2d37d5(0x2b6,0x28b)](_0x596cc2=>_0x596cc2[_0x2d37d5(0x384,0x350)]('reason')['setDescription'](_0x2d37d5(0x312,0x30e))[_0x2d37d5(0x2b2,0x31e)](![])))[_0x2d37d5(0x302,0x398)](_0x34f0be=>_0x34f0be['setName']('panel')[_0x2d37d5(0x30a,0x377)]('Send\x20the\x20ticket\x20panel')[_0x2d37d5(0x2b6,0x2fb)](_0x51df99=>{_0x51df99[_0x157d47(0xa4,0x85)]('panel')[_0x157d47(0x33,0xb)]('The\x20panel\x20to\x20display')[_0x157d47(-0x37,-0x4d)](!![]);function _0x157d47(_0xbdd0d,_0x50c6de){return _0x2d37d5(_0x50c6de- -0x2ff,_0xbdd0d);}return Object[_0x157d47(0x79,0x5a)](config[_0x157d47(0x107,0x97)])['forEach'](_0x263fb8=>{function _0x34e8d3(_0x34a9b9,_0x41f973){return _0x157d47(_0x34a9b9,_0x41f973-0x40b);}_0x51df99[_0x34e8d3(0x47d,0x403)]({'name':_0x263fb8,'value':_0x263fb8});}),_0x51df99;}))[_0x2d37d5(0x302,0x311)](_0x24db93=>_0x24db93[_0x2d37d5(0x384,0x333)]('remove')[_0x2d37d5(0x30a,0x27d)](_0x2d37d5(0x2fd,0x36d))[_0x2d37d5(0x287,0x310)](_0x44c2d3=>_0x44c2d3[_0x2d37d5(0x384,0x3de)](_0x2d37d5(0x27a,0x2a4))[_0x2d37d5(0x30a,0x352)](_0x2d37d5(0x38b,0x405))[_0x2d37d5(0x2b2,0x292)](!![])))[_0x2d37d5(0x302,0x2c6)](_0x3b8710=>_0x3b8710[_0x2d37d5(0x384,0x352)](_0x2d37d5(0x2d0,0x323))['setDescription'](_0x2d37d5(0x2f9,0x363))['addStringOption'](_0x10afc8=>_0x10afc8['setName'](_0x2d37d5(0x2cc,0x334))[_0x2d37d5(0x30a,0x2b4)](_0x2d37d5(0x2be,0x335))['setRequired'](!![])))[_0x2d37d5(0x302,0x30d)](_0x44cb1d=>_0x44cb1d[_0x2d37d5(0x384,0x3c5)](_0x2d37d5(0x2d8,0x328))[_0x2d37d5(0x30a,0x360)](_0x2d37d5(0x27f,0x226)))['addSubcommand'](_0x38d4e7=>_0x38d4e7[_0x2d37d5(0x384,0x344)]('voice')[_0x2d37d5(0x30a,0x392)](_0x2d37d5(0x288,0x1f5)))[_0x2d37d5(0x302,0x2a4)](_0x300548=>_0x300548[_0x2d37d5(0x384,0x3ee)](_0x2d37d5(0x313,0x2ad))[_0x2d37d5(0x30a,0x35d)](_0x2d37d5(0x2d9,0x303))['addStringOption'](_0xcb409e=>_0xcb409e[_0x2d37d5(0x384,0x2fd)](_0x2d37d5(0x37f,0x3fa))[_0x2d37d5(0x30a,0x36d)](_0x2d37d5(0x2ca,0x264))[_0x2d37d5(0x2b2,0x283)](!![])['addChoices'](Object['keys'](config['TicketTypes'])[_0x2d37d5(0x2e1,0x322)](_0x565f9a=>({'name':config[_0x2d37d5(0x35d,0x308)][_0x565f9a][_0x2d37d5(0x2ae,0x2eb)],'value':_0x565f9a}))))),async 'execute'(_0x134596){function _0x10ee2c(_0x193f55,_0x43e8f7){return _0x2d37d5(_0x43e8f7- -0x48b,_0x193f55);}try{const _0x43f016=_0x134596['options']['getSubcommand'](),_0x2b86f1=_0x134596[_0x10ee2c(-0x164,-0x183)]['getSubcommandGroup'](![]);if(_0x43f016===_0x10ee2c(-0x129,-0xff)&&!_0x2b86f1)try{const _0x5620b7=_0x134596[_0x10ee2c(-0x118,-0x183)][_0x10ee2c(-0x1c1,-0x180)](_0x10ee2c(-0x26b,-0x211)),_0x561742=await Ticket[_0x10ee2c(-0x22e,-0x1ee)]({'channelId':_0x134596['channel']['id']});if(!_0x561742)return _0x134596['reply']({'content':'This\x20command\x20can\x20only\x20be\x20used\x20within\x20a\x20ticket\x20channel.','ephemeral':!![]});const _0x3c9fb=config['TicketTypes'][_0x561742[_0x10ee2c(-0x1a6,-0x1c9)]][_0x10ee2c(-0x144,-0x16f)],_0x30ab45=_0x134596['member']['roles'][_0x10ee2c(-0x1a5,-0x1a8)][_0x10ee2c(-0x188,-0x212)](_0x4c1fd7=>_0x3c9fb[_0x10ee2c(-0x168,-0x127)](_0x4c1fd7['id']));if(!_0x30ab45)return _0x134596[_0x10ee2c(-0x194,-0x156)]({'content':lang[_0x10ee2c(-0x236,-0x1a0)],'ephemeral':!![]});const _0x92ea05=_0x134596[_0x10ee2c(-0x1b9,-0x1d7)];if(_0x92ea05['type']===ChannelType[_0x10ee2c(-0x11f,-0x137)]){const _0x37b0ed=_0x92ea05[_0x10ee2c(-0x15d,-0x1dc)](_0x5620b7);if(_0x37b0ed&&_0x37b0ed[_0x10ee2c(-0x16d,-0xf1)](PermissionFlagsBits[_0x10ee2c(-0xea,-0x117)]))return _0x134596[_0x10ee2c(-0x193,-0x156)]({'content':_0x10ee2c(-0x15f,-0x119),'ephemeral':!![]});await _0x92ea05['permissionOverwrites'][_0x10ee2c(-0x1af,-0x218)](_0x5620b7,{'ViewChannel':!![],'SendMessages':!![],'ReadMessageHistory':!![],'AttachFiles':!![],'EmbedLinks':!![]});}else{if(_0x92ea05['type']===ChannelType[_0x10ee2c(-0x200,-0x1da)]||_0x92ea05[_0x10ee2c(-0x137,-0x10c)]===ChannelType['PublicThread']){const _0x4f3f55=await _0x92ea05[_0x10ee2c(-0x158,-0x182)]['fetch']();if(_0x4f3f55[_0x10ee2c(-0x17e,-0xf1)](_0x5620b7['id']))return _0x134596[_0x10ee2c(-0x155,-0x156)]({'content':_0x10ee2c(-0x90,-0x119),'ephemeral':!![]});await _0x92ea05[_0x10ee2c(-0x172,-0x182)]['add'](_0x5620b7);}}const _0x32f287=new EmbedBuilder()[_0x10ee2c(-0x21a,-0x19d)](_0x10ee2c(-0x168,-0x151))['setDescription']('Successfully\x20added\x20'+_0x5620b7[_0x10ee2c(-0x9e,-0x109)]+_0x10ee2c(-0x20c,-0x1f2));await _0x134596[_0x10ee2c(-0x198,-0x156)]({'embeds':[_0x32f287],'ephemeral':!![]});const _0xdfdda0=new EmbedBuilder()[_0x10ee2c(-0x19c,-0x19d)](_0x10ee2c(-0xb8,-0x151))['setDescription']('<@'+_0x5620b7['id']+_0x10ee2c(-0x1b2,-0x15b)+_0x134596[_0x10ee2c(-0x231,-0x211)]['id']+'>.');await _0x92ea05[_0x10ee2c(-0x17b,-0x13e)]({'embeds':[_0xdfdda0]});}catch(_0x3901d9){console['error'](_0x10ee2c(-0x87,-0x112),_0x3901d9),await _0x134596['reply']({'content':_0x10ee2c(-0x107,-0x166),'ephemeral':!![]});}else{if(_0x43f016===_0x10ee2c(-0xcb,-0xfe)&&!_0x2b86f1)try{const _0x267677=config[_0x10ee2c(-0xe9,-0x12e)][_0x10ee2c(-0x145,-0x1ad)][_0x10ee2c(-0x1cc,-0x16f)];if(!_0x134596[_0x10ee2c(-0x100,-0x174)][_0x10ee2c(-0xe7,-0x136)][_0x10ee2c(-0x1ac,-0x1a8)][_0x10ee2c(-0x230,-0x212)](_0x21c386=>_0x267677[_0x10ee2c(-0x173,-0x127)](_0x21c386['id'])))return _0x134596[_0x10ee2c(-0xe4,-0x156)]({'content':lang[_0x10ee2c(-0x1ae,-0x1a0)],'ephemeral':!![]});if(!config['Alert'][_0x10ee2c(-0x1b6,-0x1d4)])return _0x134596[_0x10ee2c(-0x1d8,-0x156)]({'content':_0x10ee2c(-0xff,-0x134),'ephemeral':!![]});const _0x18fb74=await Ticket[_0x10ee2c(-0x162,-0x1ee)]({'channelId':_0x134596[_0x10ee2c(-0x1d1,-0x1d7)]['id']});if(!_0x18fb74)return _0x134596[_0x10ee2c(-0x1d2,-0x156)]({'content':_0x10ee2c(-0x15c,-0x1e4),'ephemeral':!![]});const _0x4ac36e=config[_0x10ee2c(-0x177,-0x176)][_0x10ee2c(-0xdd,-0x111)],_0x3b013b=parseDuration(_0x4ac36e),_0x580f82=new Date(Date[_0x10ee2c(-0x103,-0x165)]()+_0x3b013b),_0x2f3205=_0x10ee2c(-0x1d8,-0x1b5)+Math[_0x10ee2c(-0x126,-0x145)](_0x580f82['getTime']()/0x3e8)+':R>';_0x18fb74[_0x10ee2c(-0x179,-0x19a)]=_0x580f82,await _0x18fb74[_0x10ee2c(-0x19b,-0x122)]();const _0x27bfc9=config[_0x10ee2c(-0x1c5,-0x176)][_0x10ee2c(-0x1c5,-0x208)],_0x1d4aed=new EmbedBuilder()[_0x10ee2c(-0x172,-0x181)](_0x27bfc9[_0x10ee2c(-0x1be,-0x17e)][_0x10ee2c(-0xd8,-0x103)]('\x0a')[_0x10ee2c(-0x19e,-0x1f1)]('{user}','<@'+_0x18fb74['userId']+'>')[_0x10ee2c(-0x22a,-0x1f1)](_0x10ee2c(-0x11d,-0x13f),_0x2f3205));if(_0x27bfc9[_0x10ee2c(-0x13d,-0x186)])_0x1d4aed[_0x10ee2c(-0x187,-0x195)](_0x27bfc9[_0x10ee2c(-0x159,-0x186)]);if(_0x27bfc9[_0x10ee2c(-0x1d6,-0x1c6)])_0x1d4aed[_0x10ee2c(-0x115,-0x19d)](_0x27bfc9[_0x10ee2c(-0x15f,-0x1c6)]);_0x27bfc9[_0x10ee2c(-0x1ac,-0x1fd)]&&_0x27bfc9['Footer'][_0x10ee2c(-0x1c2,-0x1ef)]&&_0x1d4aed[_0x10ee2c(-0xb4,-0x114)]({'text':_0x27bfc9[_0x10ee2c(-0x24a,-0x1fd)]['Text'],'iconURL':_0x27bfc9[_0x10ee2c(-0x1fb,-0x1fd)][_0x10ee2c(-0x10a,-0x15d)]||null});if(_0x27bfc9[_0x10ee2c(-0x1b5,-0x15e)])_0x1d4aed[_0x10ee2c(-0x150,-0x149)](_0x27bfc9['Image']);if(_0x27bfc9['Thumbnail'])_0x1d4aed['setThumbnail'](_0x27bfc9[_0x10ee2c(-0xf6,-0x12a)]);const _0x473877=new ButtonBuilder()[_0x10ee2c(-0x1a6,-0x153)](_0x10ee2c(-0x1fc,-0x1ec)+_0x18fb74[_0x10ee2c(-0x209,-0x1e8)])['setLabel'](lang['Tickets']['CloseTicketButton'])[_0x10ee2c(-0x233,-0x1f6)](ButtonStyle['Danger'])[_0x10ee2c(-0xda,-0xef)]('ðŸ”’'),_0x29cd6e=new ActionRowBuilder()[_0x10ee2c(-0x8e,-0xf8)](_0x473877),_0x59f890=await _0x134596[_0x10ee2c(-0x24f,-0x1d7)]['send']('<@'+_0x18fb74[_0x10ee2c(-0x1ee,-0x214)]+'>'),_0x5064b1=await _0x134596[_0x10ee2c(-0x1ff,-0x1d7)][_0x10ee2c(-0x19f,-0x13e)]({'embeds':[_0x1d4aed],'components':[_0x29cd6e]});await _0x134596[_0x10ee2c(-0xde,-0x156)]({'content':_0x10ee2c(-0x1ac,-0x11d),'ephemeral':!![]}),setTimeout(()=>_0x59f890[_0x10ee2c(-0x24c,-0x1cf)](),0x1f4),_0x18fb74[_0x10ee2c(-0x60,-0xe9)]=_0x5064b1['id'],await _0x18fb74[_0x10ee2c(-0x1b7,-0x122)]();}catch(_0x3b3086){console[_0x10ee2c(-0x1a8,-0x1d6)](_0x10ee2c(-0x1f9,-0x1ba),_0x3b3086),await _0x134596[_0x10ee2c(-0xcb,-0x156)]({'content':_0x10ee2c(-0x17d,-0x13a),'ephemeral':!![]});}else{if(_0x2b86f1===_0x10ee2c(-0x17d,-0xf3)){if(_0x43f016==='add')try{const _0x187769=_0x134596['options'][_0x10ee2c(-0x1cf,-0x180)](_0x10ee2c(-0x1f3,-0x211)),_0x42e400=_0x134596[_0x10ee2c(-0x179,-0x183)]['getString'](_0x10ee2c(-0xb0,-0x123))||_0x10ee2c(-0xb6,-0x147),_0x38652e=config['Permissions'][_0x10ee2c(-0x12c,-0xf3)],_0xe44a27=_0x134596[_0x10ee2c(-0x1c2,-0x174)][_0x10ee2c(-0x155,-0x136)][_0x10ee2c(-0x225,-0x1a8)][_0x10ee2c(-0x252,-0x212)](_0x3cb745=>_0x38652e[_0x10ee2c(-0x13d,-0x127)](_0x3cb745['id']));if(!_0xe44a27)return _0x134596[_0x10ee2c(-0x129,-0x156)]({'content':lang[_0x10ee2c(-0x17d,-0x1a0)],'ephemeral':!![]});const _0x346fea=await Blacklist[_0x10ee2c(-0x268,-0x1ee)]({'userId':_0x187769['id']});if(_0x346fea)return _0x134596[_0x10ee2c(-0x193,-0x156)]({'content':_0x187769[_0x10ee2c(-0xaa,-0x109)]+'\x20is\x20already\x20blacklisted.','ephemeral':!![]});const _0x5c01c5=new Blacklist({'userId':_0x187769['id'],'addedBy':_0x134596[_0x10ee2c(-0x1cd,-0x211)]['id'],'addedAt':new Date(),'reason':_0x42e400});await _0x5c01c5[_0x10ee2c(-0x1a3,-0x122)]();const _0x55e7e4=new EmbedBuilder()[_0x10ee2c(-0x14a,-0x19d)](_0x10ee2c(-0xe7,-0xf2))[_0x10ee2c(-0x129,-0x195)](_0x10ee2c(-0xbe,-0x13d))[_0x10ee2c(-0x1d3,-0x181)](_0x10ee2c(-0xeb,-0xfa)+_0x187769['id']+'>**\x20has\x20been\x20blacklisted\x20from\x20opening\x20tickets.')[_0x10ee2c(-0x194,-0x216)]({'name':'Reason','value':_0x42e400,'inline':![]},{'name':'Blacklisted\x20By','value':'<@'+_0x134596[_0x10ee2c(-0x244,-0x211)]['id']+'>','inline':!![]},{'name':_0x10ee2c(-0xe6,-0x157),'value':_0x10ee2c(-0x196,-0x1b5)+Math[_0x10ee2c(-0xd1,-0x145)](new Date(_0x5c01c5[_0x10ee2c(-0x16f,-0x12c)])[_0x10ee2c(-0x1c6,-0x1b9)]()/0x3e8)+_0x10ee2c(-0x5e,-0xee),'inline':!![]})['setThumbnail'](_0x187769[_0x10ee2c(-0x12e,-0x152)]({'dynamic':!![]}))[_0x10ee2c(-0xfd,-0x114)]({'text':_0x10ee2c(-0xe4,-0x139)});await _0x134596[_0x10ee2c(-0x160,-0x156)]({'embeds':[_0x55e7e4],'ephemeral':!![]});}catch(_0x22df17){console[_0x10ee2c(-0x202,-0x1d6)](_0x10ee2c(-0x111,-0x138),_0x22df17),await _0x134596[_0x10ee2c(-0x15e,-0x156)]({'content':_0x10ee2c(-0x1a6,-0x1cb),'ephemeral':!![]});}else{if(_0x43f016===_0x10ee2c(-0x202,-0x1ca)&&_0x2b86f1===_0x10ee2c(-0x14d,-0xf3))try{const _0x13521a=_0x134596[_0x10ee2c(-0x119,-0x183)]['getUser']('user'),_0x1b6b12=config[_0x10ee2c(-0x1aa,-0x1ab)][_0x10ee2c(-0x10f,-0xf3)],_0x1e9959=_0x134596[_0x10ee2c(-0x142,-0x174)][_0x10ee2c(-0x176,-0x136)][_0x10ee2c(-0x203,-0x1a8)][_0x10ee2c(-0x1ed,-0x212)](_0x4b0a05=>_0x1b6b12['includes'](_0x4b0a05['id']));if(!_0x1e9959)return _0x134596['reply']({'content':lang[_0x10ee2c(-0x1e4,-0x1a0)],'ephemeral':!![]});const _0x4732f7=await Blacklist[_0x10ee2c(-0x20f,-0x1ee)]({'userId':_0x13521a['id']});if(!_0x4732f7)return _0x134596['reply']({'content':_0x13521a[_0x10ee2c(-0x1a1,-0x109)]+_0x10ee2c(-0xe4,-0x10b),'ephemeral':!![]});await Blacklist[_0x10ee2c(-0x244,-0x1ae)]({'userId':_0x13521a['id']});const _0x5a7969=new EmbedBuilder()[_0x10ee2c(-0x1cd,-0x19d)](_0x10ee2c(-0xe4,-0x151))[_0x10ee2c(-0x1a9,-0x195)](_0x10ee2c(-0x1cc,-0x1fe))[_0x10ee2c(-0xec,-0x181)]('**<@'+_0x13521a['id']+'>**\x20has\x20been\x20removed\x20from\x20the\x20blacklist.')[_0x10ee2c(-0xa4,-0x114)]({'text':_0x10ee2c(-0xba,-0x125)});await _0x134596['reply']({'embeds':[_0x5a7969],'ephemeral':!![]});}catch(_0x315488){console[_0x10ee2c(-0x17c,-0x1d6)]('Error\x20removing\x20user\x20from\x20blacklist:',_0x315488),await _0x134596['reply']({'content':_0x10ee2c(-0xea,-0x120),'ephemeral':!![]});}else{if(_0x43f016==='view')try{const _0x276eab=_0x134596[_0x10ee2c(-0x1d9,-0x183)][_0x10ee2c(-0x13d,-0x180)]('user'),_0x35872a=config[_0x10ee2c(-0x22d,-0x1ab)][_0x10ee2c(-0x9b,-0xf3)],_0x43319e=_0x134596[_0x10ee2c(-0x1c8,-0x174)][_0x10ee2c(-0x188,-0x136)][_0x10ee2c(-0x1c7,-0x1a8)]['some'](_0x214cc4=>_0x35872a['includes'](_0x214cc4['id']));if(!_0x43319e)return _0x134596['reply']({'content':lang[_0x10ee2c(-0x157,-0x1a0)],'ephemeral':!![]});const _0x48f2c1=await Blacklist[_0x10ee2c(-0x245,-0x1ee)]({'userId':_0x276eab['id']});if(!_0x48f2c1)return _0x134596[_0x10ee2c(-0x19f,-0x156)]({'content':_0x276eab[_0x10ee2c(-0x91,-0x109)]+'\x20is\x20not\x20blacklisted.','ephemeral':!![]});const _0x88bdb6=new EmbedBuilder()['setColor']('#FFA500')[_0x10ee2c(-0x1dc,-0x195)](_0x10ee2c(-0x215,-0x1c4))[_0x10ee2c(-0x25b,-0x216)]({'name':_0x10ee2c(-0x9e,-0xfc),'value':'<@'+_0x48f2c1[_0x10ee2c(-0x26f,-0x214)]+'>','inline':!![]},{'name':_0x10ee2c(-0x1b5,-0x1b0),'value':'<@'+_0x48f2c1[_0x10ee2c(-0x13f,-0x1a6)]+'>','inline':!![]},{'name':'Reason','value':_0x48f2c1[_0x10ee2c(-0x101,-0x123)],'inline':![]},{'name':_0x10ee2c(-0x154,-0x157),'value':_0x10ee2c(-0x1d6,-0x1b5)+Math['floor'](new Date(_0x48f2c1[_0x10ee2c(-0x1c1,-0x12c)])['getTime']()/0x3e8)+_0x10ee2c(-0xe9,-0xee),'inline':!![]})[_0x10ee2c(-0x1c5,-0x19e)](_0x276eab[_0x10ee2c(-0x12d,-0x152)]({'dynamic':!![]}))[_0x10ee2c(-0x19e,-0x114)]({'text':_0x10ee2c(-0x273,-0x1fc)});await _0x134596[_0x10ee2c(-0x144,-0x156)]({'embeds':[_0x88bdb6],'ephemeral':!![]});}catch(_0x3effaa){console[_0x10ee2c(-0x159,-0x1d6)](_0x10ee2c(-0x184,-0xed),_0x3effaa),await _0x134596['reply']({'content':_0x10ee2c(-0x242,-0x1de),'ephemeral':!![]});}else{if(_0x43f016==='remove'&&!_0x2b86f1)try{const _0x2d3fef=_0x134596['options'][_0x10ee2c(-0x1cf,-0x180)](_0x10ee2c(-0x237,-0x211)),_0x3cce8f=await Ticket[_0x10ee2c(-0x262,-0x1ee)]({'channelId':_0x134596[_0x10ee2c(-0x186,-0x1d7)]['id']});if(!_0x3cce8f)return _0x134596[_0x10ee2c(-0x154,-0x156)]({'content':_0x10ee2c(-0x1c9,-0x1d3),'ephemeral':!![]});const _0x35ae04=config[_0x10ee2c(-0x199,-0x12e)][_0x3cce8f[_0x10ee2c(-0x1e2,-0x1c9)]][_0x10ee2c(-0x205,-0x16f)],_0x58e365=_0x134596[_0x10ee2c(-0x177,-0x174)][_0x10ee2c(-0x118,-0x136)]['cache'][_0x10ee2c(-0x1d8,-0x212)](_0x596df1=>_0x35ae04[_0x10ee2c(-0xa9,-0x127)](_0x596df1['id']));if(!_0x58e365)return _0x134596[_0x10ee2c(-0x12c,-0x156)]({'content':lang[_0x10ee2c(-0x152,-0x1a0)],'ephemeral':!![]});const _0xe0175b=_0x134596[_0x10ee2c(-0x1d5,-0x1d7)];if(_0xe0175b[_0x10ee2c(-0x11b,-0x10c)]===ChannelType[_0x10ee2c(-0x196,-0x137)]){const _0x16ee70=_0xe0175b[_0x10ee2c(-0x1ef,-0x1dc)](_0x2d3fef);if(!_0x16ee70||!_0x16ee70[_0x10ee2c(-0x120,-0xf1)](PermissionFlagsBits['ViewChannel']))return _0x134596[_0x10ee2c(-0x1bb,-0x156)]({'content':_0x10ee2c(-0x256,-0x1f4),'ephemeral':!![]});await _0xe0175b[_0x10ee2c(-0x156,-0x1b1)][_0x10ee2c(-0x207,-0x1cf)](_0x2d3fef);}else{if(_0xe0175b[_0x10ee2c(-0xa8,-0x10c)]===ChannelType[_0x10ee2c(-0x1cc,-0x1da)]||_0xe0175b[_0x10ee2c(-0x11c,-0x10c)]===ChannelType[_0x10ee2c(-0x13b,-0x168)]){const _0x109d97=await _0xe0175b[_0x10ee2c(-0x18e,-0x182)][_0x10ee2c(-0x18b,-0x1e2)]();if(!_0x109d97[_0x10ee2c(-0xdf,-0xf1)](_0x2d3fef['id']))return _0x134596[_0x10ee2c(-0xfd,-0x156)]({'content':_0x10ee2c(-0x15e,-0x1f4),'ephemeral':!![]});await _0xe0175b['members'][_0x10ee2c(-0x1a8,-0x1ca)](_0x2d3fef);}}const _0x159893=new EmbedBuilder()['setColor'](_0x10ee2c(-0xfb,-0xf2))['setDescription'](_0x10ee2c(-0x286,-0x1fa)+_0x2d3fef['tag']+_0x10ee2c(-0x22b,-0x1f9));await _0x134596[_0x10ee2c(-0xe5,-0x156)]({'embeds':[_0x159893],'ephemeral':!![]});const _0x5adcd4=new EmbedBuilder()[_0x10ee2c(-0x222,-0x19d)]('#FF0000')[_0x10ee2c(-0x173,-0x181)]('<@'+_0x2d3fef['id']+_0x10ee2c(-0x1f9,-0x17f)+_0x134596[_0x10ee2c(-0x1f3,-0x211)]['id']+'>.');await _0xe0175b[_0x10ee2c(-0x1a2,-0x13e)]({'embeds':[_0x5adcd4]});}catch(_0x2331fe){console[_0x10ee2c(-0x174,-0x1d6)](_0x10ee2c(-0x15e,-0x1cc),_0x2331fe),await _0x134596[_0x10ee2c(-0x1a1,-0x156)]({'content':_0x10ee2c(-0x1fe,-0x18f),'ephemeral':!![]});}}}}}else{if(_0x43f016===_0x10ee2c(-0x18b,-0x202)&&!_0x2b86f1)try{if(!config['TicketSettings']?.['Enabled'])return _0x134596['reply']({'content':_0x10ee2c(-0x231,-0x1e3),'ephemeral':!![]});if(!_0x134596[_0x10ee2c(-0x160,-0x174)][_0x10ee2c(-0x118,-0x18a)][_0x10ee2c(-0x92,-0xf1)](PermissionFlagsBits[_0x10ee2c(-0x1a1,-0x135)]))return _0x134596['reply']({'content':lang[_0x10ee2c(-0x14b,-0x1a0)],'ephemeral':!![]});const _0x2b03e8=_0x134596[_0x10ee2c(-0x20e,-0x183)][_0x10ee2c(-0xd9,-0xf7)](_0x10ee2c(-0x1b6,-0x202)),_0x53cdfa=config[_0x10ee2c(-0xba,-0xf5)][_0x2b03e8];if(!_0x53cdfa)return _0x134596[_0x10ee2c(-0x135,-0x156)]({'content':_0x10ee2c(-0x1f5,-0x1eb),'ephemeral':!![]});const _0xc5e9e9=_0x53cdfa[_0x10ee2c(-0x1e9,-0x208)],_0x155917=moment()['tz'](config['WorkingHours'][_0x10ee2c(-0x143,-0x17d)]),_0x118fa3={};Object[_0x10ee2c(-0xb2,-0x132)](config[_0x10ee2c(-0x18a,-0x154)][_0x10ee2c(-0x140,-0x1a4)])[_0x10ee2c(-0x248,-0x1fb)](_0x5716ab=>{const [_0x4b05d2,_0x720a8c]=config[_0x2c33b7(-0x192,-0x1e7)]['Schedule'][_0x5716ab]['split']('-');function _0x2c33b7(_0x1a2d19,_0x77ed63){return _0x10ee2c(_0x77ed63,_0x1a2d19- -0x3e);}_0x118fa3['workinghours_start_'+_0x5716ab['toLowerCase']()]=_0x2c33b7(-0x1f3,-0x1ea)+moment['tz'](_0x4b05d2,_0x2c33b7(-0x13b,-0x18f),config['WorkingHours'][_0x2c33b7(-0x1bb,-0x21c)])['unix']()+_0x2c33b7(-0x1d7,-0x162),_0x118fa3[_0x2c33b7(-0x1d5,-0x1a0)+_0x5716ab[_0x2c33b7(-0x1ab,-0x1c2)]()]='<t:'+moment['tz'](_0x720a8c,_0x2c33b7(-0x13b,-0x1ab),config['WorkingHours']['Timezone'])['unix']()+_0x2c33b7(-0x1d7,-0x265);});const _0x5eac4b={..._0x118fa3},_0x448d4f=new EmbedBuilder()[_0x10ee2c(-0x1ff,-0x19d)](_0xc5e9e9[_0x10ee2c(-0x168,-0x1c6)]||_0x10ee2c(-0x1fd,-0x1df))['setDescription'](replacePlaceholders((_0xc5e9e9[_0x10ee2c(-0x1d9,-0x17e)]||[])['join']('\x0a'),_0x5eac4b));_0xc5e9e9[_0x10ee2c(-0x217,-0x186)]&&_0x448d4f['setTitle'](replacePlaceholders(_0xc5e9e9[_0x10ee2c(-0x168,-0x186)],_0x5eac4b));(_0xc5e9e9[_0x10ee2c(-0x1df,-0x1fd)]?.[_0x10ee2c(-0x1e7,-0x1ef)]||_0xc5e9e9[_0x10ee2c(-0x291,-0x1fd)]?.[_0x10ee2c(-0x1a3,-0x15d)])&&_0x448d4f[_0x10ee2c(-0xa6,-0x114)]({'text':replacePlaceholders(_0xc5e9e9[_0x10ee2c(-0x1f9,-0x1fd)][_0x10ee2c(-0x22b,-0x1ef)]||'',_0x5eac4b),'iconURL':_0xc5e9e9[_0x10ee2c(-0x1d6,-0x1fd)][_0x10ee2c(-0x183,-0x15d)]||null});(_0xc5e9e9[_0x10ee2c(-0x18b,-0x118)]?.[_0x10ee2c(-0x20e,-0x1ef)]||_0xc5e9e9[_0x10ee2c(-0x137,-0x118)]?.[_0x10ee2c(-0x104,-0x15d)])&&_0x448d4f[_0x10ee2c(-0x1b0,-0x1c8)]({'name':replacePlaceholders(_0xc5e9e9[_0x10ee2c(-0x160,-0x118)][_0x10ee2c(-0x20a,-0x1ef)]||'',_0x5eac4b),'iconURL':_0xc5e9e9[_0x10ee2c(-0x162,-0x118)][_0x10ee2c(-0x106,-0x15d)]||null});if(isValidHttpUrl(_0xc5e9e9['Image']))_0x448d4f[_0x10ee2c(-0x1c1,-0x149)](_0xc5e9e9[_0x10ee2c(-0x10b,-0x15e)]);if(isValidHttpUrl(_0xc5e9e9[_0x10ee2c(-0xe9,-0x12a)]))_0x448d4f[_0x10ee2c(-0x13d,-0x19e)](_0xc5e9e9[_0x10ee2c(-0xd4,-0x12a)]);_0xc5e9e9[_0x10ee2c(-0x17c,-0x150)]&&Array['isArray'](_0xc5e9e9[_0x10ee2c(-0x111,-0x150)])&&_0xc5e9e9[_0x10ee2c(-0x163,-0x150)][_0x10ee2c(-0x1de,-0x1fb)](_0x21f32a=>{const _0x2a8252=replacePlaceholders(_0x21f32a[_0x16b57f(0x232,0x1e6)],_0x5eac4b),_0x37ced8=replacePlaceholders(_0x21f32a[_0x16b57f(0x196,0x1ae)],_0x5eac4b);function _0x16b57f(_0x4853bb,_0x8036bb){return _0x10ee2c(_0x4853bb,_0x8036bb-0x3a5);}_0x2a8252&&_0x37ced8&&_0x448d4f[_0x16b57f(0x1b0,0x18f)]({'name':_0x2a8252,'value':_0x37ced8,'inline':_0x21f32a[_0x16b57f(0x247,0x2a4)]||![]});});const {useSelectMenu:_0x206687}=config[_0x10ee2c(-0x1d6,-0x1d1)],_0x1b0dfb=[];let _0x54b27f=new ActionRowBuilder();if(_0x206687){const _0x58d677=new StringSelectMenuBuilder()[_0x10ee2c(-0x110,-0x153)](_0x10ee2c(-0x139,-0x11c))[_0x10ee2c(-0x247,-0x1be)]('Select\x20a\x20ticket\x20type');Object[_0x10ee2c(-0x9f,-0x132)](config['TicketTypes'])[_0x10ee2c(-0x1e6,-0x1fb)](_0x29d8d1=>{function _0x128a44(_0x4b45ea,_0x20338b){return _0x10ee2c(_0x20338b,_0x4b45ea-0x4ef);}const _0xbd46f9=config[_0x128a44(0x3c1,0x42d)][_0x29d8d1];_0xbd46f9[_0x128a44(0x31b,0x30b)]&&_0xbd46f9[_0x128a44(0x3ab,0x391)]===_0x2b03e8&&_0x58d677[_0x128a44(0x3d9,0x454)]({'label':replacePlaceholders(_0xbd46f9['Button'][_0x128a44(0x312,0x390)]||'Unnamed\x20Ticket',_0x5eac4b),'emoji':_0xbd46f9[_0x128a44(0x3a3,0x402)][_0x128a44(0x3d4,0x437)]||'','value':_0x29d8d1,'description':replacePlaceholders(_0xbd46f9[_0x128a44(0x3a3,0x3d3)][_0x128a44(0x371,0x330)]||'',_0x5eac4b)});});if(_0x58d677[_0x10ee2c(-0x1db,-0x183)][_0x10ee2c(-0x1a2,-0x18d)]>0x0)_0x54b27f['addComponents'](_0x58d677),_0x1b0dfb[_0x10ee2c(-0x1c9,-0x213)](_0x54b27f);else throw new Error(_0x10ee2c(-0xcb,-0x155));}else{Object[_0x10ee2c(-0x1bb,-0x132)](config[_0x10ee2c(-0x1b9,-0x12e)])[_0x10ee2c(-0x1dc,-0x1fb)](_0xef8eab=>{const _0x2eda13=config[_0x2885c1(0x5d8,0x5e4)][_0xef8eab];function _0x2885c1(_0x168ca4,_0x355daf){return _0x10ee2c(_0x355daf,_0x168ca4-0x706);}if(_0x2eda13[_0x2885c1(0x532,0x593)]&&_0x2eda13['Panel']===_0x2b03e8){const _0x1caf4f=ButtonStyle[_0x2eda13['Button'][_0x2885c1(0x541,0x548)][_0x2885c1(0x5a6,0x534)]()]||ButtonStyle[_0x2885c1(0x5de,0x5dc)];_0x54b27f['addComponents'](new ButtonBuilder()[_0x2885c1(0x5b3,0x595)](_0x2885c1(0x51d,0x56c)+_0xef8eab)[_0x2885c1(0x516,0x4f3)](replacePlaceholders(_0x2eda13['Button'][_0x2885c1(0x529,0x5b2)]||_0x2885c1(0x5c5,0x586),_0x5eac4b))['setEmoji'](_0x2eda13[_0x2885c1(0x5ba,0x619)][_0x2885c1(0x5eb,0x5c6)]||'')[_0x2885c1(0x510,0x588)](_0x1caf4f)),_0x54b27f[_0x2885c1(0x567,0x544)]['length']===0x5&&(_0x1b0dfb[_0x2885c1(0x4f3,0x45e)](_0x54b27f),_0x54b27f=new ActionRowBuilder());}});_0x54b27f[_0x10ee2c(-0x1d3,-0x19f)][_0x10ee2c(-0x19d,-0x18d)]>0x0&&_0x1b0dfb['push'](_0x54b27f);if(_0x1b0dfb[_0x10ee2c(-0x20e,-0x18d)]===0x0)throw new Error(_0x10ee2c(-0xda,-0xf0));}await _0x134596['reply']({'content':_0x10ee2c(-0x1d7,-0x19c),'ephemeral':!![]}),await _0x134596['channel'][_0x10ee2c(-0xee,-0x13e)]({'embeds':[_0x448d4f],'components':_0x1b0dfb});}catch(_0x84bff4){console[_0x10ee2c(-0x26b,-0x1d6)](_0x10ee2c(-0x213,-0x1af),_0x84bff4),!_0x134596[_0x10ee2c(-0xe0,-0x140)]&&!_0x134596[_0x10ee2c(-0x28d,-0x206)]?await _0x134596[_0x10ee2c(-0xdb,-0x156)]({'content':'An\x20error\x20occurred\x20while\x20sending\x20the\x20ticket\x20panel.','ephemeral':!![]})[_0x10ee2c(-0x1be,-0x209)](_0x1bf12e=>console[_0x10ee2c(-0x1be,-0x1d6)]('Error\x20sending\x20reply:',_0x1bf12e)):await _0x134596[_0x10ee2c(-0x15b,-0x17c)]({'content':'An\x20error\x20occurred\x20while\x20sending\x20the\x20ticket\x20panel.','ephemeral':!![]})['catch'](_0x259603=>console['error']('Error\x20sending\x20follow-up:',_0x259603));}else{if(_0x43f016===_0x10ee2c(-0x1ee,-0x1a2)&&!_0x2b86f1)try{const _0x26512c=await Ticket['findOne']({'channelId':_0x134596[_0x10ee2c(-0x1be,-0x1d7)]['id']});if(!_0x26512c)return _0x134596[_0x10ee2c(-0x111,-0x156)]({'content':_0x10ee2c(-0x153,-0x1d3),'ephemeral':!![]});const _0x34311f=config[_0x10ee2c(-0xad,-0x12e)][_0x26512c[_0x10ee2c(-0x21e,-0x1c9)]][_0x10ee2c(-0x1d6,-0x16f)],_0x414398=_0x134596[_0x10ee2c(-0x11b,-0x174)][_0x10ee2c(-0x19c,-0x136)][_0x10ee2c(-0x117,-0x1a8)][_0x10ee2c(-0x247,-0x212)](_0xafd221=>_0x34311f[_0x10ee2c(-0xe2,-0x127)](_0xafd221['id']));if(!_0x414398)return _0x134596['reply']({'content':lang[_0x10ee2c(-0x127,-0x1a0)],'ephemeral':!![]});const _0x457e8c=await _0x134596[_0x10ee2c(-0x1c7,-0x196)]['channels'][_0x10ee2c(-0x248,-0x218)]({'name':_0x134596[_0x10ee2c(-0x22c,-0x1d7)][_0x10ee2c(-0x196,-0x1bf)]+_0x10ee2c(-0x107,-0x12d),'type':ChannelType[_0x10ee2c(-0x186,-0x177)],'parent':_0x134596[_0x10ee2c(-0x1b6,-0x1d7)][_0x10ee2c(-0x14a,-0x1c7)]});await _0x457e8c['permissionOverwrites']['create'](_0x134596[_0x10ee2c(-0x20c,-0x196)][_0x10ee2c(-0x138,-0x136)][_0x10ee2c(-0xf4,-0x161)],{'ViewChannel':![]}),await _0x457e8c[_0x10ee2c(-0x183,-0x1b1)][_0x10ee2c(-0x1ea,-0x218)](_0x134596[_0x10ee2c(-0x1b9,-0x211)]['id'],{'ViewChannel':!![],'Connect':!![],'Speak':!![]});for(const _0x455ff0 of _0x34311f){const _0x4e2b3a=await _0x134596[_0x10ee2c(-0x205,-0x196)][_0x10ee2c(-0x163,-0x136)]['fetch'](_0x455ff0);_0x4e2b3a&&await _0x457e8c[_0x10ee2c(-0x23e,-0x1b1)]['create'](_0x4e2b3a,{'ViewChannel':!![],'Connect':!![],'Speak':!![]});}await _0x134596[_0x10ee2c(-0x1ab,-0x156)]({'content':_0x10ee2c(-0x153,-0x14b)+_0x457e8c,'ephemeral':!![]});const _0x12a4c5=async()=>{const _0x20eb9c=await _0x134596['guild'][_0x3fe583(-0xe6,-0x105)][_0x3fe583(-0x1d0,-0x188)](_0x457e8c['id']);function _0x3fe583(_0x4e6bba,_0x39dac3){return _0x10ee2c(_0x4e6bba,_0x39dac3-0x5a);}_0x20eb9c&&_0x20eb9c[_0x3fe583(-0xf3,-0x128)][_0x3fe583(-0x60,-0x9a)]===0x0&&setTimeout(async()=>{const _0x146eac=await _0x134596[_0x4db2eb(0x37c,0x33e)][_0x4db2eb(0x32c,0x375)][_0x4db2eb(0x322,0x2f2)](_0x457e8c['id']);function _0x4db2eb(_0x3fe3da,_0x3b19d2){return _0x3fe583(_0x3fe3da,_0x3b19d2-0x47a);}_0x146eac&&_0x146eac[_0x4db2eb(0x39e,0x352)][_0x4db2eb(0x401,0x3e0)]===0x0&&await _0x146eac[_0x4db2eb(0x376,0x305)]();},0x249f0);};_0x134596[_0x10ee2c(-0x26e,-0x1e0)]['on'](_0x10ee2c(-0x9a,-0xec),(_0x1459ac,_0x245c03)=>{function _0x397afd(_0x17e7ff,_0x26a9e5){return _0x10ee2c(_0x17e7ff,_0x26a9e5-0x56c);}(_0x1459ac[_0x397afd(0x367,0x382)]===_0x457e8c['id']||_0x245c03[_0x397afd(0x358,0x382)]===_0x457e8c['id'])&&_0x12a4c5();}),_0x12a4c5();}catch(_0x3ca55d){console[_0x10ee2c(-0x25e,-0x1d6)]('Error\x20creating\x20voice\x20channel:',_0x3ca55d),await _0x134596[_0x10ee2c(-0x16b,-0x156)]({'content':_0x10ee2c(-0x10d,-0x108),'ephemeral':!![]});}else{if(_0x43f016===_0x10ee2c(-0x251,-0x1ca)&&!_0x2b86f1)try{const _0x9b8c9e=_0x134596['options'][_0x10ee2c(-0x199,-0x180)](_0x10ee2c(-0x208,-0x211)),_0x2dcd3a=await Ticket[_0x10ee2c(-0x1e2,-0x1ee)]({'channelId':_0x134596[_0x10ee2c(-0x151,-0x1d7)]['id']});if(!_0x2dcd3a)return _0x134596[_0x10ee2c(-0x19f,-0x156)]({'content':_0x10ee2c(-0x23d,-0x1d3),'ephemeral':!![]});const _0x17fab1=config[_0x10ee2c(-0x13b,-0x12e)][_0x2dcd3a[_0x10ee2c(-0x13a,-0x1c9)]]['SupportRole'],_0x30d102=_0x134596[_0x10ee2c(-0x12a,-0x174)][_0x10ee2c(-0x194,-0x136)]['cache'][_0x10ee2c(-0x1dd,-0x212)](_0x2c2c11=>_0x17fab1[_0x10ee2c(-0x1a2,-0x127)](_0x2c2c11['id']));if(!_0x30d102)return _0x134596[_0x10ee2c(-0xed,-0x156)]({'content':lang[_0x10ee2c(-0x18e,-0x1a0)],'ephemeral':!![]});const _0x290bf2=_0x134596[_0x10ee2c(-0x1cf,-0x1d7)];if(_0x290bf2[_0x10ee2c(-0x16b,-0x10c)]===ChannelType[_0x10ee2c(-0x19e,-0x137)]){const _0xd559a=_0x290bf2[_0x10ee2c(-0x1db,-0x1dc)](_0x9b8c9e);if(!_0xd559a||!_0xd559a['has'](PermissionFlagsBits[_0x10ee2c(-0x17a,-0x117)]))return _0x134596[_0x10ee2c(-0x113,-0x156)]({'content':_0x10ee2c(-0x287,-0x1f4),'ephemeral':!![]});await _0x290bf2[_0x10ee2c(-0x17c,-0x1b1)]['delete'](_0x9b8c9e);}else{if(_0x290bf2[_0x10ee2c(-0xc7,-0x10c)]===ChannelType[_0x10ee2c(-0x224,-0x1da)]||_0x290bf2[_0x10ee2c(-0x113,-0x10c)]===ChannelType[_0x10ee2c(-0x18f,-0x168)]){const _0x1ee78e=await _0x290bf2[_0x10ee2c(-0x1a4,-0x182)][_0x10ee2c(-0x158,-0x1e2)]();if(!_0x1ee78e[_0x10ee2c(-0x64,-0xf1)](_0x9b8c9e['id']))return _0x134596[_0x10ee2c(-0xcc,-0x156)]({'content':_0x10ee2c(-0x1e5,-0x1f4),'ephemeral':!![]});await _0x290bf2['members']['remove'](_0x9b8c9e);}else return _0x134596[_0x10ee2c(-0x142,-0x156)]({'content':_0x10ee2c(-0x13d,-0x173),'ephemeral':!![]});}const _0x153ef7=new EmbedBuilder()[_0x10ee2c(-0x182,-0x19d)](_0x10ee2c(-0x113,-0xf2))[_0x10ee2c(-0x1d9,-0x181)](_0x10ee2c(-0x25f,-0x1fa)+_0x9b8c9e[_0x10ee2c(-0xa4,-0x109)]+_0x10ee2c(-0x1ca,-0x1f9));await _0x134596[_0x10ee2c(-0xfb,-0x156)]({'embeds':[_0x153ef7],'ephemeral':!![]});const _0xce8313=new EmbedBuilder()[_0x10ee2c(-0x11d,-0x19d)](_0x10ee2c(-0x172,-0xf2))[_0x10ee2c(-0x18a,-0x181)]('<@'+_0x9b8c9e['id']+_0x10ee2c(-0x156,-0x17f)+_0x134596['user']['id']+'>.');await _0x290bf2[_0x10ee2c(-0x10d,-0x13e)]({'embeds':[_0xce8313]});}catch(_0x2b962c){console[_0x10ee2c(-0x160,-0x1d6)](_0x10ee2c(-0x1ec,-0x1cc),_0x2b962c),await _0x134596[_0x10ee2c(-0x18e,-0x156)]({'content':_0x10ee2c(-0x18e,-0x18f),'ephemeral':!![]});}else{if(_0x43f016===_0x10ee2c(-0x192,-0x1bb)&&!_0x2b86f1)try{const _0x49ee23=_0x134596['options'][_0x10ee2c(-0x104,-0xf7)](_0x10ee2c(-0x187,-0x1bf)),_0x19f5d9=await Ticket[_0x10ee2c(-0x22e,-0x1ee)]({'channelId':_0x134596[_0x10ee2c(-0x249,-0x1d7)]['id']});if(!_0x19f5d9)return _0x134596[_0x10ee2c(-0x1af,-0x156)]({'content':_0x10ee2c(-0x15b,-0x1d3),'ephemeral':!![]});const _0x5d11e5=config[_0x10ee2c(-0xe1,-0x12e)][_0x19f5d9[_0x10ee2c(-0x183,-0x1c9)]]['SupportRole'],_0x4c9772=_0x134596[_0x10ee2c(-0x15a,-0x174)]['roles'][_0x10ee2c(-0x12b,-0x1a8)][_0x10ee2c(-0x1a2,-0x212)](_0x3cd8f1=>_0x5d11e5[_0x10ee2c(-0x143,-0x127)](_0x3cd8f1['id']));if(!_0x4c9772)return _0x134596[_0x10ee2c(-0xe3,-0x156)]({'content':lang[_0x10ee2c(-0x181,-0x1a0)],'ephemeral':!![]});const _0x1bff64=_0x134596['channel'];await _0x1bff64[_0x10ee2c(-0xd2,-0x107)](_0x49ee23);const _0x4d759c=new EmbedBuilder()[_0x10ee2c(-0x1a9,-0x19d)](_0x10ee2c(-0x139,-0x151))[_0x10ee2c(-0x14d,-0x181)]('Successfully\x20renamed\x20the\x20ticket\x20to\x20'+_0x49ee23+'.');await _0x134596[_0x10ee2c(-0x165,-0x156)]({'embeds':[_0x4d759c],'ephemeral':!![]});const _0x290a7b=new EmbedBuilder()['setColor'](_0x10ee2c(-0x14d,-0x151))[_0x10ee2c(-0x17c,-0x181)]('The\x20ticket\x20has\x20been\x20renamed\x20to\x20'+_0x49ee23+'\x20by\x20<@'+_0x134596[_0x10ee2c(-0x20d,-0x211)]['id']+'>.');await _0x1bff64['send']({'embeds':[_0x290a7b]});}catch(_0x35f8ba){console[_0x10ee2c(-0x192,-0x1d6)](_0x10ee2c(-0x61,-0xeb),_0x35f8ba),await _0x134596[_0x10ee2c(-0xe9,-0x156)]({'content':_0x10ee2c(-0x1d6,-0x20e),'ephemeral':!![]});}else{if(_0x43f016===_0x10ee2c(-0x23e,-0x1b3)&&!_0x2b86f1)try{if(!hasSupportRole(_0x134596['member'],Object[_0x10ee2c(-0x27d,-0x1f5)](config['TicketTypes'])[_0x10ee2c(-0x1c9,-0x158)](_0x1b04bc=>_0x1b04bc[_0x10ee2c(-0x121,-0x16f)]))){await _0x134596[_0x10ee2c(-0x19f,-0x156)]({'content':lang[_0x10ee2c(-0x219,-0x1a0)],'ephemeral':!![]});return;}const _0x2e9f77=await Ticket['countDocuments']({}),_0x5ed21c=await Ticket['countDocuments']({'status':'open'}),_0x477aa6=await Ticket[_0x10ee2c(-0x1a6,-0x1a1)]({'status':_0x10ee2c(-0x143,-0x142)}),_0x103238=await Ticket[_0x10ee2c(-0x1ec,-0x1a1)]({'status':_0x10ee2c(-0x177,-0x10a)}),_0x57b16b=await Ticket[_0x10ee2c(-0x28a,-0x1f3)]({}),_0x2b8969=_0x57b16b['reduce']((_0x36572a,_0x34b586)=>_0x36572a+(_0x34b586[_0x10ee2c(-0x256,-0x1ce)]||0x0),0x0),_0x184cf6=_0x57b16b['filter'](_0x3e6140=>{const _0x311ee8=_0x3e6140[_0x46c290(0x29d,0x335)][_0x46c290(0x2a0,0x27e)](/\((\d)\/5\)$/);if(_0x311ee8)return _0x3e6140[_0x46c290(0x2d9,0x36e)]=parseInt(_0x311ee8[0x1]),!![];function _0x46c290(_0x3b734e,_0x49c0cd){return _0x10ee2c(_0x3b734e,_0x49c0cd-0x497);}return![];}),_0x2edc8a=_0x184cf6[_0x10ee2c(-0x1ab,-0x18d)],_0xb112a1=_0x2edc8a>0x0?(_0x184cf6[_0x10ee2c(-0x11c,-0x13c)]((_0x424455,_0x3c2689)=>_0x424455+_0x3c2689[_0x10ee2c(-0x137,-0x129)],0x0)/_0x2edc8a)[_0x10ee2c(-0x25d,-0x1f8)](0x1):_0x10ee2c(-0xbc,-0x12f),_0x4fae64=_0x2edc8a>0x0?'â­'['repeat'](Math[_0x10ee2c(-0x161,-0x145)](_0xb112a1))+'\x20`'+_0xb112a1+_0x10ee2c(-0x94,-0xfb):_0x10ee2c(-0x23f,-0x1b4),_0x317eb8=_0x57b16b[_0x10ee2c(-0xe3,-0x10e)](_0xff6113=>_0xff6113[_0x10ee2c(-0x137,-0x16c)]===_0x10ee2c(-0x150,-0x10a)&&_0xff6113[_0x10ee2c(-0x17f,-0x1d2)]&&_0xff6113['createdAt']),_0x41be46=_0x317eb8[_0x10ee2c(-0x118,-0x13c)]((_0x38f374,_0x2f0f88)=>{const _0x51b51d=moment(_0x2f0f88[_0x442423(-0x24c,-0x1f4)]);function _0x442423(_0xd9f898,_0x1c4df2){return _0x10ee2c(_0x1c4df2,_0xd9f898- -0x67);}const _0x25b6d1=moment(_0x2f0f88[_0x442423(-0x239,-0x1e0)]);return _0x38f374+_0x25b6d1[_0x442423(-0x21d,-0x2a7)](_0x51b51d);},0x0),_0x41fc90=_0x317eb8[_0x10ee2c(-0x1bc,-0x18d)]>0x0?_0x41be46/_0x317eb8[_0x10ee2c(-0x174,-0x18d)]:0x0,_0x37c688=formatDuration(_0x41fc90),_0xcd98a2=Math['max'](..._0x317eb8[_0x10ee2c(-0x16f,-0x1aa)](_0xac3abf=>moment(_0xac3abf[_0x10ee2c(-0x209,-0x1d2)])['diff'](moment(_0xac3abf['createdAt']))),0x0),_0x832e93=formatDuration(_0xcd98a2),_0x3a4d65=await generateTicketsGraph(_0x57b16b),_0x915e65=Buffer['from'](_0x3a4d65,_0x10ee2c(-0xd3,-0x104)),_0x4cd48f=new AttachmentBuilder(_0x915e65,{'name':'tickets_graph.png'}),_0x57b630={'totalTickets':_0x2e9f77,'totalMessages':_0x2b8969,'totalReviews':_0x2edc8a,'openTickets':_0x5ed21c,'closedTickets':_0x477aa6,'deletedTickets':_0x103238,'averageRating':_0x4fae64,'averageClosure':_0x37c688,'maxClosure':_0x832e93,'user':'<@'+_0x134596['user']['id']+'>'},_0x4c39ca=lang[_0x10ee2c(-0x168,-0x159)]['Embed'],_0x59bb6c=new EmbedBuilder()['setTitle'](replacePlaceholders(_0x4c39ca['Title'],_0x57b630))['setColor'](_0x4c39ca['Color'])[_0x10ee2c(-0x10d,-0x181)](_0x4c39ca[_0x10ee2c(-0x101,-0x17e)]['map'](_0x1775c6=>replacePlaceholders(_0x1775c6,_0x57b630))[_0x10ee2c(-0xe8,-0x103)]('\x0a'))['setTimestamp']();_0x4c39ca[_0x10ee2c(-0x222,-0x1fd)]&&_0x4c39ca[_0x10ee2c(-0x19a,-0x1fd)][_0x10ee2c(-0x262,-0x1ef)]&&_0x59bb6c[_0x10ee2c(-0xcb,-0x114)]({'text':replacePlaceholders(_0x4c39ca[_0x10ee2c(-0x26d,-0x1fd)][_0x10ee2c(-0x1f5,-0x1ef)],_0x57b630),'iconURL':_0x4c39ca['Footer'][_0x10ee2c(-0x16e,-0x15d)]}),_0x4c39ca['Author']&&_0x4c39ca['Author'][_0x10ee2c(-0x15e,-0x1ef)]&&_0x59bb6c[_0x10ee2c(-0x25f,-0x1c8)]({'name':replacePlaceholders(_0x4c39ca[_0x10ee2c(-0x172,-0x118)][_0x10ee2c(-0x262,-0x1ef)],_0x57b630),'iconURL':_0x4c39ca[_0x10ee2c(-0x146,-0x118)][_0x10ee2c(-0x169,-0x15d)]}),_0x4c39ca[_0x10ee2c(-0xe5,-0x15e)]&&_0x59bb6c[_0x10ee2c(-0x173,-0x149)](_0x10ee2c(-0x176,-0x185)),_0x4c39ca['Thumbnail']&&_0x59bb6c['setThumbnail'](_0x4c39ca[_0x10ee2c(-0x113,-0x12a)]),Array[_0x10ee2c(-0x214,-0x20f)](_0x4c39ca[_0x10ee2c(-0x216,-0x1bc)])&&_0x4c39ca['Fields']['forEach'](_0x3c016e=>{function _0x3d8633(_0x2ca231,_0x3450d9){return _0x10ee2c(_0x3450d9,_0x2ca231-0x18d);}_0x3c016e[_0x3d8633(-0x32,0x10)]&&_0x3c016e[_0x3d8633(-0x6a,-0x78)]&&_0x59bb6c['addFields']({'name':replacePlaceholders(_0x3c016e[_0x3d8633(-0x32,-0xb1)],_0x57b630),'value':replacePlaceholders(_0x3c016e[_0x3d8633(-0x6a,-0x8e)],_0x57b630),'inline':_0x3c016e['inline']});}),await _0x134596[_0x10ee2c(-0x111,-0x156)]({'embeds':[_0x59bb6c],'files':[_0x4cd48f],'ephemeral':![]});}catch(_0x45d692){console[_0x10ee2c(-0x188,-0x1d6)](_0x10ee2c(-0x141,-0xf9),_0x45d692),await _0x134596['reply']({'content':'An\x20error\x20occurred\x20while\x20fetching\x20ticket\x20stats.\x20Please\x20try\x20again\x20later.','ephemeral':!![]});}else{if(_0x43f016==='close'&&!_0x2b86f1)try{const _0x366344=_0x134596['options'][_0x10ee2c(-0x12b,-0xf7)](_0x10ee2c(-0x153,-0x123))||lang[_0x10ee2c(-0x158,-0x15a)],_0x4878de=await Ticket[_0x10ee2c(-0x27b,-0x1ee)]({'channelId':_0x134596[_0x10ee2c(-0x26f,-0x1d7)]['id']});if(!_0x4878de)return _0x134596[_0x10ee2c(-0x1ea,-0x156)]({'content':_0x10ee2c(-0x1d7,-0x1d3),'ephemeral':!![]});const _0xb6a97a=config[_0x10ee2c(-0xbd,-0x12e)][_0x4878de[_0x10ee2c(-0x22f,-0x1c9)]][_0x10ee2c(-0x131,-0x16f)],_0x144e87=_0x134596[_0x10ee2c(-0x183,-0x174)]['roles']['cache'][_0x10ee2c(-0x1aa,-0x212)](_0x1dfbb2=>_0xb6a97a[_0x10ee2c(-0xb5,-0x127)](_0x1dfbb2['id']));if(!_0x144e87)return _0x134596[_0x10ee2c(-0x14b,-0x156)]({'content':lang[_0x10ee2c(-0x1c2,-0x1a0)],'ephemeral':!![]});await _0x134596[_0x10ee2c(-0x168,-0x1e1)]({'ephemeral':!![]}),await handleTicketClose(_0x134596[_0x10ee2c(-0x20f,-0x1e0)],_0x134596,_0x4878de[_0x10ee2c(-0x24d,-0x1e8)]),await _0x134596[_0x10ee2c(-0x15f,-0x198)]({'content':'Ticket\x20closed\x20successfully.'});}catch(_0x391515){console['error']('Error\x20closing\x20ticket:',_0x391515),!_0x134596[_0x10ee2c(-0x1c6,-0x140)]&&!_0x134596[_0x10ee2c(-0x24e,-0x206)]?await _0x134596['reply']({'content':_0x10ee2c(-0x184,-0x164),'ephemeral':!![]}):await _0x134596['editReply']({'content':'An\x20error\x20occurred\x20while\x20closing\x20the\x20ticket.\x20Please\x20try\x20again\x20later.'});}else{if(_0x43f016==='transfer'&&!_0x2b86f1)try{await _0x134596[_0x10ee2c(-0x17a,-0x1e1)]({'ephemeral':!![]});const _0xbce648=_0x134596[_0x10ee2c(-0x1bb,-0x183)][_0x10ee2c(-0x186,-0xf7)](_0x10ee2c(-0x139,-0x10c)),_0x5cbef8=await Ticket[_0x10ee2c(-0x1f1,-0x1ee)]({'channelId':_0x134596['channel']['id']});if(!_0x5cbef8)return _0x134596[_0x10ee2c(-0x13b,-0x198)]({'content':'This\x20command\x20can\x20only\x20be\x20used\x20within\x20a\x20ticket\x20channel.'});const _0x524d96=config[_0x10ee2c(-0x1b0,-0x12e)][_0x5cbef8[_0x10ee2c(-0x164,-0x1c9)]],_0x3edb0a=config[_0x10ee2c(-0x152,-0x12e)][_0xbce648];if(!_0x3edb0a)return _0x134596[_0x10ee2c(-0x1b4,-0x198)]({'content':_0x10ee2c(-0x182,-0xea)});if(_0x5cbef8[_0x10ee2c(-0x152,-0x1c9)]===_0xbce648)return _0x134596[_0x10ee2c(-0x1a5,-0x198)]({'content':_0x10ee2c(-0x1f9,-0x1a3)});const _0x47f3c2=_0x134596[_0x10ee2c(-0xf7,-0x174)]['roles']['cache'][_0x10ee2c(-0x202,-0x212)](_0x4e5b30=>_0x524d96[_0x10ee2c(-0x184,-0x16f)][_0x10ee2c(-0x13b,-0x127)](_0x4e5b30['id']));if(!_0x47f3c2)return _0x134596[_0x10ee2c(-0x212,-0x198)]({'content':lang[_0x10ee2c(-0x176,-0x1a0)]});const _0xe5079f=await _0x134596[_0x10ee2c(-0x162,-0x196)][_0x10ee2c(-0x19e,-0x15f)]['fetch'](_0x5cbef8[_0x10ee2c(-0x234,-0x1ea)]);if(!_0xe5079f)return _0x134596[_0x10ee2c(-0x226,-0x198)]({'content':_0x10ee2c(-0x13a,-0x188)});const _0x49990c=await _0x134596[_0x10ee2c(-0x1e6,-0x196)][_0x10ee2c(-0x154,-0x182)][_0x10ee2c(-0x1b3,-0x1e2)](_0x5cbef8[_0x10ee2c(-0x294,-0x214)]),_0x506fc6=await getUserPriority(_0x49990c),_0x27f082=_0x3edb0a[_0x10ee2c(-0x18e,-0x170)]&&_0x3edb0a['CategoryID']!==''?_0x3edb0a[_0x10ee2c(-0xee,-0x170)]:null;try{await moveChannel(_0xe5079f,_0x27f082),await updateChannelPermissions(_0xe5079f,_0x3edb0a,_0x5cbef8['userId']);}catch(_0x19521b){return console[_0x10ee2c(-0x1ec,-0x1d6)](_0x10ee2c(-0x12f,-0x11f),_0x19521b),_0x134596[_0x10ee2c(-0x166,-0x198)]({'content':'An\x20error\x20occurred\x20while\x20transferring\x20the\x20ticket.\x20Please\x20try\x20again\x20later.'});}_0x5cbef8['questions']=_0x5cbef8['questions'][_0x10ee2c(-0x15d,-0x1aa)](_0xdc8d57=>({'question':_0xdc8d57['question']||_0x10ee2c(-0x201,-0x16a),'answer':_0xdc8d57[_0x10ee2c(-0x228,-0x1e6)]||_0x10ee2c(-0x19a,-0x14f)})),_0x5cbef8[_0x10ee2c(-0x1ec,-0x1c9)]=_0xbce648,await _0x5cbef8[_0x10ee2c(-0x10c,-0x122)]();const _0x542af4=_0x3edb0a[_0x10ee2c(-0x171,-0x20a)][_0x10ee2c(-0x1ff,-0x1f1)](_0x10ee2c(-0x161,-0x1c3),_0x5cbef8['ticketId'])[_0x10ee2c(-0x1d6,-0x1f1)]('{user}',_0x134596[_0x10ee2c(-0x206,-0x211)][_0x10ee2c(-0x16d,-0x18b)])[_0x10ee2c(-0x26f,-0x1f1)](_0x10ee2c(-0x172,-0x193),_0x506fc6);try{await renameChannel(_0xe5079f,_0x542af4);}catch(_0x4bd5de){return console[_0x10ee2c(-0x20d,-0x1d6)](_0x10ee2c(-0x129,-0x11e),_0x4bd5de),_0x134596[_0x10ee2c(-0x175,-0x198)]({'content':_0x10ee2c(-0x1a2,-0x20e)});}const _0x13d718=new EmbedBuilder()['setColor'](_0x10ee2c(-0x1ea,-0x151))[_0x10ee2c(-0x102,-0x181)]('Successfully\x20transferred\x20the\x20ticket\x20to\x20'+_0x3edb0a[_0x10ee2c(-0x1a5,-0x1dd)]+'.');await _0x134596[_0x10ee2c(-0x1e3,-0x198)]({'embeds':[_0x13d718]});const _0x56e780=new EmbedBuilder()['setColor'](_0x10ee2c(-0x1ac,-0x151))[_0x10ee2c(-0x121,-0x181)](_0x10ee2c(-0x1c7,-0x17b)+_0x3edb0a[_0x10ee2c(-0x19b,-0x1dd)]+_0x10ee2c(-0xda,-0x163)+_0x134596['user']['id']+'>.');await _0xe5079f['send']({'embeds':[_0x56e780]});}catch(_0x555905){console[_0x10ee2c(-0x21c,-0x1d6)](_0x10ee2c(-0x1c3,-0x1a5),_0x555905),await _0x134596[_0x10ee2c(-0x194,-0x198)]({'content':_0x10ee2c(-0x1d3,-0x190)});}else await _0x134596[_0x10ee2c(-0x105,-0x156)]({'content':_0x10ee2c(-0x265,-0x20b),'ephemeral':!![]});}}}}}}}}}}catch(_0x1f9daf){console[_0x10ee2c(-0x1ea,-0x1d6)]('Error\x20executing\x20command:',_0x1f9daf),await _0x134596[_0x10ee2c(-0x194,-0x156)]({'content':_0x10ee2c(-0x192,-0x205),'ephemeral':!![]});}}};